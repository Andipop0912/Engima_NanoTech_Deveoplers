<!doctype html>
<html lang="en">
<head>
 <meta charset="utf-8" />
 <meta name="viewport" content="width=device-width,initial-scale=1" />
 <title>TrustWise Onboarding</title>
 <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet"/>
 <style>
  :root {
   --bg: #171f3a;
   --bg-grad: linear-gradient(135deg, #5741d9 0%, #2a1859 100%);
   --card: #111927;
   --accent: #7c3aed;
   --accent-2: #f59e0b;
   --muted: #94a3b8;
   --glass: rgba(255,255,255,0.05);
   --success: #10b981;
   --formal-bg: #fff;
   --formal-card: #F0F2F4;
   --formal-text: #212529;
   --formal-muted: #878b93;
   --elder-bg: #111;
   --elder-card: #fafafa;
   --elder-text: #000;
   --elder-accent: #00bfff;
   --elder-btn: #009688;
   color-scheme: dark;
  }
  html, body { margin: 0; padding: 0; min-height: 100vh; background: var(--bg-grad); font-family: 'Inter', Arial, sans-serif; font-size: 15px; color: #e6eef8;}
  body { width: 100vw; height: 100vh;}
  .container {
   width: 100vw; height: 100vh; min-height: 100vh; min-width: 100vw; display: flex;
   align-items: center; justify-content: center;
   background: none;
  }
  .onboarding-center {
   width: 100vw; min-height: 100vh;
   display: flex; flex-direction: column; align-items: center; justify-content: center;
   padding: 0; margin: 0;
  }
  header {
   width: 100%; margin-bottom: 15px; display: flex; align-items: center; justify-content: center;
  }
  .brand {
   display: flex; align-items: center; gap: 18px; flex-direction: column;
   justify-content: center;
  }
  .logo {
   width: 62px; height: 62px; border-radius: 16px;
   display: flex; align-items: center; justify-content: center;
   font-size: 36px;
   background: linear-gradient(135deg,#7c3aed,#5b21b6 80%);
   box-shadow: 0 4px 24px 0 #7c3aed44;
   margin-bottom: 6px;
  }
  h1 {
   font-size: 2.1rem; font-weight: 900; letter-spacing: -1.1px;
   margin: 0; color: #fde7ff; line-height: 1.1; text-align: center;
  }
  .lead {
   margin: 8px 0 0 0;
   font-size: 1.2em;
   color: var(--muted);
   font-weight: 500;
   text-align: center;
  }
  .option-container {
   margin-top: 38px;
   display: flex; gap: 32px; flex-wrap: wrap; justify-content: center; align-items: center; width: 100%;
  }
  .option-card {
   border-radius: 18px;
   box-shadow: 0 10px 32px 0 #0004, 0 2px 16px 0 #693aed22;
   background: var(--card);
   padding: 38px 34px 34px 34px;
   text-align: center;
   min-width: 220px; min-height: 185px;
   cursor: pointer;
   font-size: 1.14em;
   transition: box-shadow 0.16s, transform 0.16s, outline 0.19s, border 0.19s;
   border: 2px solid transparent;
   position: relative;
   z-index: 0;
   overflow: visible;
   backdrop-filter: blur(1px);
  }
  .option-card.selected,
  .option-card:focus-visible {
   outline: 3px solid var(--accent);
   border-color: var(--accent-2);
   background: linear-gradient(120deg, #221d60 30%, #27165b 100%);
   box-shadow: 0 8px 34px 0 #7c3aed44, 0 1.5px 14px 0 #2a18593c;
   z-index: 2;
  }
  .option-card:hover {
   box-shadow: 0 24px 48px 0 #7c3aed99, 0 2px 16px 0 #f59e0b44;
   transform: scale(1.055);
   outline: 3.5px solid var(--accent-2);
   border-color: var(--accent);
   z-index: 2;
  }
  .option-card > div[style*="font-size:42px"] {
   font-size: 55px !important; margin-bottom: 8px;
  }
  .option-card > div[style*="font-size:20px"] {
   font-size: 1.23em !important; font-weight: 800; margin-bottom: 7px;
  }
  .option-card > div[style*="color:var(--muted)"] {
   color: #e0c2fa; font-size:1em !important;
  }
  .age-container {
   margin: 38px auto 18px auto; text-align: center; display: flex; flex-direction: column; align-items: center;
  }
  .age-btn {
   margin-top: 22px; padding: 11px 32px; font-size: 19px;
   border-radius:10px;font-weight:800;
   background:linear-gradient(90deg,var(--accent),#5b21b6 70%);
   color:white;border:none;cursor:pointer;
   letter-spacing: 0.03em;
   box-shadow:0 6px 20px #5b21b688;
   transition: background 0.15s, transform 0.11s;
   outline: none;
  }
  .age-btn:hover { background:linear-gradient(90deg,#7849cf,#f59e0b);}
  #ageInput {
   font-size: 25px; padding:11px 24px;
   border-radius: 9px; border: 2.2px solid var(--accent);
   width:170px; text-align: center;
   margin-bottom: 12px;
   background: var(--card); color: #dedaec;
  }
  @media (max-width: 900px) {
   h1 {font-size:1.1rem;}
   .option-container{ gap:19px;}
   .option-card {min-width: 130px; padding:26px 16px;}
  }
  @media (max-width: 700px) {
   .container, .onboarding-center { min-height: unset; height: auto; }
   .option-container {gap: 14px;}
  }
 </style>
</head>
<body>
 <div class="container" id="app">
  <!-- INITIAL ONBOARDING WILL GO HERE -->
 </div>
 <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
 <script>
  //-------------- State -------------
  let userType = null, userAge = null;
  //---------- Views --------------
  function showOnboarding() {
   document.body.className = '';
   document.body.style.background = '';
   document.getElementById('app').innerHTML = `
    <div class="onboarding-center">
     <header>
      <span class="brand">
       <div class="logo" title="Free Emoji icon">üîí</div>
       <h1>TrustWise</h1>
       <div class="lead">Smart savings for all.<br>Whom does this website serve?</div>
      </span>
     </header>
     <div class="option-container">
      <div class="option-card" id="opt-housewife">
       <div style="font-size:42px;">üë©‚Äçüç≥</div>
       <div style="font-size:20px;font-weight:700;">Housewife</div>
       <div style="color:var(--muted);font-size:15px;">Save for family, festivals, emergencies</div>
      </div>
      <div class="option-card" id="opt-office">
       <div style="font-size:42px;">üíº</div>
       <div style="font-size:20px;font-weight:700;">Office people</div>
       <div style="color:var(--muted);font-size:15px;">Plan salaries, loans, investments, EMI</div>
      </div>
      <div class="option-card" id="opt-student">
       <div style="font-size:42px;">üéí</div>
       <div style="font-size:20px;font-weight:700;">Students</div>
       <div style="color:var(--muted);font-size:15px;">Manage pocket money, goals, enjoy rewards</div>
      </div>
      <div class="option-card" id="opt-farmer">
       <div style="font-size:42px;">üöú</div>
       <div style="font-size:20px;font-weight:700;">Farmer</div>
       <div style="color:var(--muted);font-size:15px;">Budget crops, tools, season planning, savings</div>
      </div>
     </div>
    </div>
   `;
   ['housewife','office','student','farmer'].forEach(t=>{
    document.getElementById('opt-'+t).onclick=function(){
     userType=t;
     showAgeInput();
     document.querySelectorAll('.option-card').forEach(e=>e.classList.remove('selected'));
     this.classList.add('selected');
    }
   });
  }
  function showAgeInput(){
   document.getElementById('app').innerHTML = `
    <div class="onboarding-center">
     <header>
      <span class="brand">
       <div class="logo" title="Free Emoji icon">üîí</div>
       <h1>FinSphere</h1>
       <div class="lead">Please enter your age:</div>
      </span>
     </header>
     <div class="age-container">
      <input id="ageInput" type="number" placeholder="Enter age" min="12" max="100"/>
      <button class="age-btn" id="ageBtn">Start</button>
     </div>
    </div>
   `;
   document.getElementById('ageBtn').onclick = function() {
    const val = parseInt(document.getElementById('ageInput').value,10);
    if(isNaN(val)||val<10||val>110) {
     alert("Please enter a valid age.");
     return;
    }
    userAge=val;
    if (typeof showMainApp === "function") showMainApp();
   }
  }

  // ...All mainApp logic (unchanged, put your working code here)...
  function showMainApp(){/*...your existing code...*/}
  // mainAppHTML, attachMainAppLogic, etc.

  // Initialize
  showOnboarding();
 </script>
</body>
</html>
